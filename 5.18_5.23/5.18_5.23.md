#今日问题
- [ ] 1.寻找合适的年龄，收入分布。使用matlab生成随机数尝试考虑
- [ ] 2.记录城市-年龄-收入矩阵，获取城市距离矩阵
- [ ] 3.论文中可以选择性探究城市区块合并的合理性

###此前的分析
年龄层分为$Y_1,Y_2,…,Y_n$，收入层分为$I_1,I_2,…,I_m$
有城市$C_1,C_2,…,C_p$
由正常经验，$Dem$对$Y_i$最简单地是个抛物线函数，$Dem$对$I_i$最简单地是个正比例函数。
这种情况下，不妨设
$$Dem(Y_i,I_j)=k_II_j[-k_YY_i(Y_i-60)]=-kI_jY_i^2+60kI_jY_i\quad⑤$$


###使用随机数拟合
——未成年人没有经济独立能力时，其可支配收入可能不高，但需求量随年龄的递增反而较大，这种情况实际上是与其扶养人的可支配收入相关性较大。那么我们将抚养人和被抚养人的可支配收入视为“均摊”。受抚养的老年人同理。这就可以使可支配收入关于年龄波动极小，年龄关于可支配收入的波动也极小。
* 每种可支配收入的平年龄均服从同一个均匀分布$Y(I_j)$~$U(0,2\bar{Y})\qquad\forall j\in N^+,1\leqslant j\leqslant m$
* 每个年龄的可支配收入均服从同一个正态分布$I(Y_i)$~$N\Big(\bar{I},\frac{\bar{I}^2}{16}\Big)\qquad\forall j\in N^+,1\leqslant j\leqslant m$


昨天的$⑤$式使用常数60其实不太合理，应该使用$2\bar{Y}$
我们重新定义一个相对需求量$ReNeed$，用来衡量单个个体所需的流量。此时已经不需要考虑函数的简易性了。我们可以直接考虑
$$ReNeed=IY(2\bar{Y}-Y)$$
合理不合理的都当成模型假设。不需要整太多花里胡哨的，全部加起来就完事了。
这就排除了前面会生成负需求量的错误尝试，我们代入深圳人口1302.66万，不考虑相对系数k，进行类似于前面的操作：
这才是真正的相对需求量分布——从0开始
@import "sz_Dem_k.png"
由此可以求和得到相对的总需求量$ReSDem_k=4.1382×10^{14}$
我们终于得到一个相对数据，可以用于梯队划分了。
这让我欣喜不已，接下来就是机械而重复的工作了。
先找到之前的表格，存放在城市数据.xlsx,然后计算并记录相对总需求量。

###5.23
这几天思路很乱。
我重新回忆一下原来做的工作。
先把数据表放过来：
|地级市|人口(万)|平均年龄(岁)|人均可支配收入(元)|
|-|-|-|-|
|广州市|1490.44|34.4|55356|
|深圳市|1302.66|32.1|57543|
|东莞市|839.22|30.6|49331|
|佛山市|790.57|34.4|49630|
|湛江市|733.20|32.5|21427|
|茂名市|631.32|30.9|21350|
|揭阳市|608.94|32.0|20042|
|汕头市|563.85|32.5|24428|
|惠州市|483.00|31.6|33930|
|江门市|459.82|34.5|29547|
|梅州市|437.88|33.8|21217|
|肇庆市|415.17|31.7|24071|
|清远市|387.40|34.5|22369|
|中山市|331.00|33.5|46865|
|河源市|309.39|31.7|19397|
|韶关市|299.76|34.7|23676|
|汕尾市|299.36|31.3|21001|
|潮州市|265.66|34.3|20905|
|阳江市|255.56|32.9|23150|
|云浮市|252.69|31.2|19239|
|珠海市|189.11|33.4|48107|
由于各城市各年龄各收入层人口数表是完全没可能采集的，我想了两种思路：
1. 使用平均数进行计算并找到使用平均数计算误差不大的假设
2. 使用Matlab随机数生成进行计算并找到生成随机数计算误差大的假设

目前，我需要提供支撑思路2的假设，并设计相关函数。上面使用的函数：
$$ReNeed=IY(2\bar{Y}-Y)$$

实际上并不合理——平均年龄竟然可以左右个体相对需求量：也就是说，年龄收入相同的个体，在不同城市需求量不同。


个人需求量函数需要满足
1. $ReNeed$是且仅是$I,Y$的函数
2. $ReNeed$关于$I$呈对数增长，$I$为$0$时$ReNeed$就是$0$
3. $ReNeed$随$Y$增长先增长后下降
